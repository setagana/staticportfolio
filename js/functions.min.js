jQuery("html").removeClass("no-js").addClass("js"),navigator.appVersion.indexOf("Mac")!=-1&&jQuery("html").addClass("osx"),jQuery(document).ready(function(a){!function(){a("[rel=carousel]").carousel(),a("[rel=tooltip]").tooltip(),a("[rel=popover]").popover(),a(".accordion").on("show",function(b){a(b.target).prev(".accordion-heading").find(".accordion-toggle").addClass("active")}),a(".accordion").on("hide",function(b){a(this).find(".accordion-toggle").not(a(b.target)).removeClass("active")}),a(window).load(function(){a("a[rel=external]").attr("target","_blank")})}(),function(){a(".flickr-feed").each(function(){var b=a(this).data("flickr-id"),c=a(this).data("flickr-limit")?a(this).data("flickr-limit"):12,d=a(this).data("flickr-tags")?a(this).data("flickr-tags"):"",e=a(this).data("flickr-tagmode")?a(this).data("flickr-tagmode"):"any";a(this).jflickrfeed({limit:c,qstrings:{id:b,tags:d,tagmode:e},itemTemplate:'<a href="{{link}}" rel="external"><img src="{{image_s}}" alt="{{title}}" /></a>'})})}(),function(){a(window).load(function(){a(".link").each(function(){var b=a(this),c=b.find("img").height(),d=a("<span>").addClass("link-overlay").html("&nbsp;").css("top",c/2).click(function(){(href=b.find("a:first").attr("href"))&&(top.location.href=href)});b.append(d)}),a(".zoom").each(function(){var b=a(this),c=b.find("img").height(),d=a("<span>").addClass("zoom-overlay").html("&nbsp;").css("top",c/2);b.append(d)})})}(),function(){var b=a(".navbar .nav"),c='<option value="" selected>Navigate...</option>';b.find("li").each(function(){var b=a(this),d=b.children("a"),e=b.parents("ul").length-1,f="";if(e)for(;e>0;)f+=" - ",e--;d.text()&&(c+="<option "+(b.hasClass("active")?'selected="selected"':"")+' value="'+d.attr("href")+'">'+f+" "+d.text()+"</option>")}).end().after('<select class="nav-responsive">'+c+"</select>"),a(".nav-responsive").on("change",function(){window.location=a(this).val()})}(),function(){a(window).load(function(){function c(c){b.isotope({filter:c}),a("#portfolio-filter li.active").removeClass("active"),a("#portfolio-filter").find("[data-filter='"+c+"']").parent().addClass("active"),"*"!=c&&(window.location.hash=c.replace(".","")),"*"==c&&(window.location.hash="")}var b=a("#portfolio-items");b.length&&(a(".project").each(function(){$this=a(this);var b=$this.data("tags");if(b)for(var c=b.split(","),d=c.length-1;d>=0;d--)$this.addClass(c[d])}),b.isotope({itemSelector:".project",layoutMode:"fitRows"}),a("#portfolio-filter li a").click(function(){var b=a(this).attr("data-filter");return c(b),!1}),""!=window.location.hash&&c("."+window.location.hash.replace("#","")))})}(),function(){a('<i id="back-to-top"></i>').appendTo(a("body")),a(window).scroll(function(){a(this).scrollTop()>a(window).height()/5?a("#back-to-top:not(.shown)").addClass("shown"):a("#back-to-top").removeClass("shown")}),a("#back-to-top").click(function(){a("body,html").animate({scrollTop:0},600)})}(),function(){a("#map").addClass("scrolloff"),a("#overlay").on("mouseup",function(){a("#map").addClass("scrolloff")}),a("#overlay").on("mousedown",function(){a("#map").removeClass("scrolloff")}),a("#map").mouseleave(function(){a("#map").addClass("scrolloff")}),a("#contact-form-submit").data("original-text",a("#contact-form-submit").html()),a("#contact-form-submit").click(function(b){var c=a("#contact-form").serialize();a("#contact-form-submit").addClass("disabled").html("Sending ..."),setTimeout(function(){a("#contact-form-response").hide().attr("class","alert"),a.post("php/contact-form.php",c,function(b){a("#contact-form-submit").removeClass("disabled").html(a("#contact-form-submit").data("original-text")),1==b.status?(message='<i class="icon-ok"></i> <b>Thank You!</b> <br />Thanks for leaving your message. We will get back to you soon.',a("#contact-form-response").addClass("alert-success")):(message=""+b.errors,a("#contact-form-response").addClass("alert-warning")),a("#contact-form-response").show().html(message)},"json")},300)})}(),function(){a("#newsletter-form").submit(function(b){var c=a("#newsletter-form").serialize();a("#newsletter-form").hide(),a(".newsletter .ajax-loader").show(),setTimeout(function(){a.post("php/newsletter-form.php",c,function(b){a(".newsletter .ajax-loader").hide(),1==b.status?(a("#newsletter-form").html("&#10004; Thanks, you have been subscribed!"),a("#newsletter-form").show()):(a("#newsletter-form").show(),alert(b.errors))},"json")},600),b.preventDefault()})}(),function(){function c(b,c){var d=a(b.currentTarget);"left"===c&&d.find(".carousel-control.right").trigger("click"),"right"===c&&d.find(".carousel-control.left").trigger("click")}var b=!!("ontouchstart"in window);b===!0&&a("#carousel").swipe({allowPageScroll:"auto",swipeLeft:c,swipeRight:c})}(),function(){a("a[rel=shortcut]").each(function(){var b=a(this),c=b.data("key"),d=b.attr("href");c&&d&&a(document).bind("keydown",c,function(){top.location.href=d})})}()});